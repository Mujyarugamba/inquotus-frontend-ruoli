{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import{API_BASE}from'../config/config';import{supabase}from'../config/supabaseClient';// ✅\nimport{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RichiesteMie=()=>{const[richieste,setRichieste]=useState([]);const[messaggio,setMessaggio]=useState('');const[utenteInfo,setUtenteInfo]=useState(null);const[caricamento,setCaricamento]=useState(false);const[notifiche,setNotifiche]=useState([]);const[mostraNotifiche,setMostraNotifiche]=useState(false);const token=localStorage.getItem('token');const navigate=useNavigate();const playSuono=()=>{const audio=new Audio('/sounds/notify.mp3');audio.play();};const salvaNotifica=async(tipo,email)=>{await supabase.from('notifiche').insert({tipo,email_utente:email,timestamp:new Date().toISOString()});};const fetchRichieste=()=>{if(!token)return;setCaricamento(true);fetch(`${API_BASE}/api/richieste/mie`,{headers:{Authorization:`Bearer ${token}`}}).then(res=>res.json()).then(data=>{if(Array.isArray(data)){setRichieste(data);setMessaggio('');}else{setMessaggio('❌ Errore nel caricamento delle richieste');}}).catch(()=>setMessaggio('❌ Errore di rete')).finally(()=>setCaricamento(false));};useEffect(()=>{if(!token)return;fetchRichieste();try{const payload=JSON.parse(atob(token.split('.')[1]));setUtenteInfo(payload);}catch{setUtenteInfo(null);}},[token]);useEffect(()=>{if(!(utenteInfo!==null&&utenteInfo!==void 0&&utenteInfo.email))return;const richiesteChannel=supabase.channel('richieste-channel');richiesteChannel.on('postgres_changes',{event:'*',schema:'public',table:'richieste',filter:`email=eq.${utenteInfo.email}`},async payload=>{let tipo;switch(payload.eventType){case'INSERT':tipo='Nuova richiesta';toast.success('🆕 Hai creato una nuova richiesta.');break;case'UPDATE':tipo='Modifica richiesta';toast.info('✏️ Una tua richiesta è stata modificata.');break;case'DELETE':tipo='Eliminazione richiesta';toast.warn('🗑️ Una tua richiesta è stata eliminata.');break;default:tipo=`Altro evento: ${payload.eventType}`;}playSuono();setNotifiche(prev=>[...prev,{tipo,ts:new Date()}]);await salvaNotifica(tipo,utenteInfo.email);fetchRichieste();}).subscribe();const sblocchiChannel=supabase.channel('sblocchi-channel');sblocchiChannel.on('postgres_changes',{event:'INSERT',schema:'public',table:'sblocchi',filter:`email_committente=eq.${utenteInfo.email}`},async()=>{const tipo='Sblocco richiesta';toast.info('🔓 Una tua richiesta è stata sbloccata da un utente.');playSuono();setNotifiche(prev=>[...prev,{tipo,ts:new Date()}]);await salvaNotifica(tipo,utenteInfo.email);fetchRichieste();}).subscribe();return()=>{supabase.removeChannel(richiesteChannel);supabase.removeChannel(sblocchiChannel);};},[utenteInfo]);const eliminaRichiesta=async id=>{if(!window.confirm('Sei sicuro di voler eliminare questa richiesta?'))return;try{const res=await fetch(`${API_BASE}/api/richiesta/${id}`,{method:'DELETE',headers:{Authorization:`Bearer ${token}`}});const data=await res.json();if(res.ok){setRichieste(prev=>prev.filter(r=>r.id!==id));setMessaggio('✅ Richiesta eliminata con successo');}else{setMessaggio(`❌ ${data.error||'Errore eliminazione'}`);}}catch{setMessaggio('❌ Errore di rete');}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCB Le mie richieste\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1rem',position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setMostraNotifiche(!mostraNotifiche),children:[\"\\uD83D\\uDD14 Notifiche \",notifiche.length>0&&/*#__PURE__*/_jsx(\"span\",{style:{backgroundColor:'red',color:'white',borderRadius:'50%',padding:'0 6px',fontSize:'0.8rem',marginLeft:'4px'},children:notifiche.length})]}),mostraNotifiche&&/*#__PURE__*/_jsx(\"ul\",{style:{position:'absolute',top:'2rem',right:0,backgroundColor:'white',border:'1px solid #ccc',borderRadius:'6px',padding:'1rem',width:'300px',zIndex:1000},children:notifiche.length===0?/*#__PURE__*/_jsx(\"li\",{children:\"Nessuna notifica.\"}):notifiche.slice().reverse().map((n,i)=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCCC \",/*#__PURE__*/_jsx(\"strong\",{children:n.tipo}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:n.ts.toLocaleTimeString()})]},i))})]}),utenteInfo&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\uD83D\\uDC64 \",utenteInfo.email]}),\" | Ruolo: \",/*#__PURE__*/_jsx(\"strong\",{children:utenteInfo.ruolo})]}),messaggio&&/*#__PURE__*/_jsx(\"p\",{style:{color:messaggio.startsWith('✅')?'green':'red'},children:messaggio}),caricamento?/*#__PURE__*/_jsx(\"p\",{children:\"Caricamento richieste...\"}):richieste.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Non hai ancora inserito richieste.\"}):/*#__PURE__*/_jsx(\"ul\",{children:richieste.map(r=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'1rem',border:'1px solid #ccc',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Categoria:\"}),\" \",r.categoria,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Regione:\"}),\" \",r.regione,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Provincia:\"}),\" \",r.provincia,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Comune:\"}),\" \",r.localita,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",new Date(r.data_inserimento).toLocaleDateString(),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(`/modifica-richiesta/${r.id}`),children:\"\\u270F\\uFE0F Modifica\"}),' ',/*#__PURE__*/_jsx(\"button\",{onClick:()=>eliminaRichiesta(r.id),children:\"\\uD83D\\uDDD1\\uFE0F Elimina\"})]})]},r.id))})]});};export default RichiesteMie;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","API_BASE","supabase","toast","jsx","_jsx","jsxs","_jsxs","RichiesteMie","richieste","setRichieste","messaggio","setMessaggio","utenteInfo","setUtenteInfo","caricamento","setCaricamento","notifiche","setNotifiche","mostraNotifiche","setMostraNotifiche","token","localStorage","getItem","navigate","playSuono","audio","Audio","play","salvaNotifica","tipo","email","from","insert","email_utente","timestamp","Date","toISOString","fetchRichieste","fetch","headers","Authorization","then","res","json","data","Array","isArray","catch","finally","payload","JSON","parse","atob","split","richiesteChannel","channel","on","event","schema","table","filter","eventType","success","info","warn","prev","ts","subscribe","sblocchiChannel","removeChannel","eliminaRichiesta","id","window","confirm","method","ok","r","error","style","padding","children","marginBottom","position","onClick","length","backgroundColor","color","borderRadius","fontSize","marginLeft","top","right","border","width","zIndex","slice","reverse","map","n","i","toLocaleTimeString","ruolo","startsWith","categoria","regione","provincia","localita","data_inserimento","toLocaleDateString","marginTop"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/richieste/RichiesteMie.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { API_BASE } from '../config/config';\nimport { supabase } from '../config/supabaseClient'; // ✅\nimport { toast } from 'react-toastify';\n\nconst RichiesteMie = () => {\n  const [richieste, setRichieste] = useState([]);\n  const [messaggio, setMessaggio] = useState('');\n  const [utenteInfo, setUtenteInfo] = useState(null);\n  const [caricamento, setCaricamento] = useState(false);\n  const [notifiche, setNotifiche] = useState([]);\n  const [mostraNotifiche, setMostraNotifiche] = useState(false);\n  const token = localStorage.getItem('token');\n  const navigate = useNavigate();\n\n  const playSuono = () => {\n    const audio = new Audio('/sounds/notify.mp3');\n    audio.play();\n  };\n\n  const salvaNotifica = async (tipo, email) => {\n    await supabase.from('notifiche').insert({\n      tipo,\n      email_utente: email,\n      timestamp: new Date().toISOString()\n    });\n  };\n\n  const fetchRichieste = () => {\n    if (!token) return;\n    setCaricamento(true);\n    fetch(`${API_BASE}/api/richieste/mie`, {\n      headers: { Authorization: `Bearer ${token}` }\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (Array.isArray(data)) {\n          setRichieste(data);\n          setMessaggio('');\n        } else {\n          setMessaggio('❌ Errore nel caricamento delle richieste');\n        }\n      })\n      .catch(() => setMessaggio('❌ Errore di rete'))\n      .finally(() => setCaricamento(false));\n  };\n\n  useEffect(() => {\n    if (!token) return;\n    fetchRichieste();\n    try {\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      setUtenteInfo(payload);\n    } catch {\n      setUtenteInfo(null);\n    }\n  }, [token]);\n\n  useEffect(() => {\n    if (!utenteInfo?.email) return;\n\n    const richiesteChannel = supabase.channel('richieste-channel');\n\n    richiesteChannel\n      .on('postgres_changes', {\n        event: '*',\n        schema: 'public',\n        table: 'richieste',\n        filter: `email=eq.${utenteInfo.email}`\n      }, async (payload) => {\n        let tipo;\n        switch (payload.eventType) {\n          case 'INSERT':\n            tipo = 'Nuova richiesta';\n            toast.success('🆕 Hai creato una nuova richiesta.');\n            break;\n          case 'UPDATE':\n            tipo = 'Modifica richiesta';\n            toast.info('✏️ Una tua richiesta è stata modificata.');\n            break;\n          case 'DELETE':\n            tipo = 'Eliminazione richiesta';\n            toast.warn('🗑️ Una tua richiesta è stata eliminata.');\n            break;\n          default:\n            tipo = `Altro evento: ${payload.eventType}`;\n        }\n        playSuono();\n        setNotifiche(prev => [...prev, { tipo, ts: new Date() }]);\n        await salvaNotifica(tipo, utenteInfo.email);\n        fetchRichieste();\n      })\n      .subscribe();\n\n    const sblocchiChannel = supabase.channel('sblocchi-channel');\n\n    sblocchiChannel\n      .on('postgres_changes', {\n        event: 'INSERT',\n        schema: 'public',\n        table: 'sblocchi',\n        filter: `email_committente=eq.${utenteInfo.email}`\n      }, async () => {\n        const tipo = 'Sblocco richiesta';\n        toast.info('🔓 Una tua richiesta è stata sbloccata da un utente.');\n        playSuono();\n        setNotifiche(prev => [...prev, { tipo, ts: new Date() }]);\n        await salvaNotifica(tipo, utenteInfo.email);\n        fetchRichieste();\n      })\n      .subscribe();\n\n    return () => {\n      supabase.removeChannel(richiesteChannel);\n      supabase.removeChannel(sblocchiChannel);\n    };\n  }, [utenteInfo]);\n\n  const eliminaRichiesta = async (id) => {\n    if (!window.confirm('Sei sicuro di voler eliminare questa richiesta?')) return;\n\n    try {\n      const res = await fetch(`${API_BASE}/api/richiesta/${id}`, {\n        method: 'DELETE',\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      const data = await res.json();\n\n      if (res.ok) {\n        setRichieste(prev => prev.filter(r => r.id !== id));\n        setMessaggio('✅ Richiesta eliminata con successo');\n      } else {\n        setMessaggio(`❌ ${data.error || 'Errore eliminazione'}`);\n      }\n    } catch {\n      setMessaggio('❌ Errore di rete');\n    }\n  };\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <h2>📋 Le mie richieste</h2>\n\n      <div style={{ marginBottom: '1rem', position: 'relative' }}>\n        <button onClick={() => setMostraNotifiche(!mostraNotifiche)}>\n          🔔 Notifiche {notifiche.length > 0 && (\n            <span style={{\n              backgroundColor: 'red',\n              color: 'white',\n              borderRadius: '50%',\n              padding: '0 6px',\n              fontSize: '0.8rem',\n              marginLeft: '4px'\n            }}>{notifiche.length}</span>\n          )}\n        </button>\n        {mostraNotifiche && (\n          <ul style={{\n            position: 'absolute',\n            top: '2rem',\n            right: 0,\n            backgroundColor: 'white',\n            border: '1px solid #ccc',\n            borderRadius: '6px',\n            padding: '1rem',\n            width: '300px',\n            zIndex: 1000\n          }}>\n            {notifiche.length === 0 ? (\n              <li>Nessuna notifica.</li>\n            ) : (\n              notifiche.slice().reverse().map((n, i) => (\n                <li key={i}>\n                  📌 <strong>{n.tipo}</strong> <br />\n                  <small>{n.ts.toLocaleTimeString()}</small>\n                </li>\n              ))\n            )}\n          </ul>\n        )}\n      </div>\n\n      {utenteInfo && (\n        <p><strong>👤 {utenteInfo.email}</strong> | Ruolo: <strong>{utenteInfo.ruolo}</strong></p>\n      )}\n\n      {messaggio && (\n        <p style={{ color: messaggio.startsWith('✅') ? 'green' : 'red' }}>{messaggio}</p>\n      )}\n\n      {caricamento ? (\n        <p>Caricamento richieste...</p>\n      ) : richieste.length === 0 ? (\n        <p>Non hai ancora inserito richieste.</p>\n      ) : (\n        <ul>\n          {richieste.map(r => (\n            <li key={r.id} style={{ marginBottom: '1rem', border: '1px solid #ccc', padding: '1rem' }}>\n              <strong>Categoria:</strong> {r.categoria}<br />\n              <strong>Regione:</strong> {r.regione}<br />\n              <strong>Provincia:</strong> {r.provincia}<br />\n              <strong>Comune:</strong> {r.localita}<br />\n              <strong>Data:</strong> {new Date(r.data_inserimento).toLocaleDateString()}<br />\n              <div style={{ marginTop: '0.5rem' }}>\n                <button onClick={() => navigate(`/modifica-richiesta/${r.id}`)}>✏️ Modifica</button>{' '}\n                <button onClick={() => eliminaRichiesta(r.id)}>🗑️ Elimina</button>\n              </div>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default RichiesteMie;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}