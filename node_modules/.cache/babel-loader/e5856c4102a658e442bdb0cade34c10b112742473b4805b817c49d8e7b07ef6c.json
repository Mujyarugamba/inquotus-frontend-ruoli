{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DettaglioRichiesta=()=>{const{id}=useParams();const[dettagli,setDettagli]=useState(null);const[errore,setErrore]=useState('');useEffect(()=>{const fetchDettagli=async()=>{try{const res=await fetch(`https://inquotus-backend-auth.onrender.com/api/richiesta/${id}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});const data=await res.json();if(res.ok)setDettagli(data);else setErrore(data.error||'Errore nel caricamento');}catch(err){setErrore('Errore connessione server');}};fetchDettagli();},[id]);if(errore)return/*#__PURE__*/_jsx(\"p\",{children:errore});if(!dettagli)return/*#__PURE__*/_jsx(\"p\",{children:\"Caricamento...\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dettagli richiesta\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Categoria:\"}),\" \",dettagli.categoria]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Localit\\xE0:\"}),\" \",dettagli.localita]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Descrizione:\"}),\" \",dettagli.descrizione]}),dettagli.media_url&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Immagine:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{src:dettagli.media_url,alt:\"Media\",style:{maxWidth:'300px'}})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Data:\"}),\" \",new Date(dettagli.data).toLocaleDateString()]}),dettagli.nome&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Contatto:\"}),\" \",dettagli.nome]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",dettagli.email]})]})]});};export default DettaglioRichiesta;","map":{"version":3,"names":["React","useEffect","useState","useParams","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DettaglioRichiesta","id","dettagli","setDettagli","errore","setErrore","fetchDettagli","res","fetch","headers","Authorization","localStorage","getItem","data","json","ok","error","err","children","categoria","localita","descrizione","media_url","src","alt","style","maxWidth","Date","toLocaleDateString","nome","email"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/pages/DettaglioRichiesta.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst DettaglioRichiesta = () => {\n  const { id } = useParams();\n  const [dettagli, setDettagli] = useState(null);\n  const [errore, setErrore] = useState('');\n\n  useEffect(() => {\n    const fetchDettagli = async () => {\n      try {\n        const res = await fetch(`https://inquotus-backend-auth.onrender.com/api/richiesta/${id}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        const data = await res.json();\n        if (res.ok) setDettagli(data);\n        else setErrore(data.error || 'Errore nel caricamento');\n      } catch (err) {\n        setErrore('Errore connessione server');\n      }\n    };\n\n    fetchDettagli();\n  }, [id]);\n\n  if (errore) return <p>{errore}</p>;\n  if (!dettagli) return <p>Caricamento...</p>;\n\n  return (\n    <div>\n      <h2>Dettagli richiesta</h2>\n      <p><strong>Categoria:</strong> {dettagli.categoria}</p>\n      <p><strong>Localit√†:</strong> {dettagli.localita}</p>\n      <p><strong>Descrizione:</strong> {dettagli.descrizione}</p>\n      {dettagli.media_url && (\n        <div>\n          <strong>Immagine:</strong><br />\n          <img src={dettagli.media_url} alt=\"Media\" style={{ maxWidth: '300px' }} />\n        </div>\n      )}\n      <p><strong>Data:</strong> {new Date(dettagli.data).toLocaleDateString()}</p>\n\n      {/* Mostra contatti solo se presenti */}\n      {dettagli.nome && (\n        <>\n          <p><strong>Contatto:</strong> {dettagli.nome}</p>\n          <p><strong>Email:</strong> {dettagli.email}</p>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default DettaglioRichiesta;\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}