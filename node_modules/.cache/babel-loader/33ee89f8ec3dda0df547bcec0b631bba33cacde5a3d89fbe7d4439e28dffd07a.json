{"ast":null,"code":"import React,{useEffect,useState}from'react';import{API_BASE}from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminPagamenti=()=>{const[transazioni,setTransazioni]=useState([]);const[errore,setErrore]=useState('');useEffect(()=>{const fetchTransazioni=async()=>{try{const res=await fetch(`${API_BASE}/api/admin/transazioni`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(!res.ok)throw new Error('Accesso negato o errore server');const data=await res.json();setTransazioni(data);}catch(err){setErrore(err.message);}};fetchTransazioni();},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCA Transazioni recenti\"}),errore&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errore}),transazioni.length===0&&!errore&&/*#__PURE__*/_jsx(\"p\",{children:\"Nessuna transazione trovata.\"}),/*#__PURE__*/_jsxs(\"table\",{border:\"1\",cellPadding:\"8\",style:{width:'100%',marginTop:'1rem'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Richiesta\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email utente\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Categoria\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Localit\\xE0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Importo (\\u20AC)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Data\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:transazioni.map(t=>{const emailUtente=t.impresa_email||t.professionista_email;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:t.id}),/*#__PURE__*/_jsx(\"td\",{children:t.richiesta_id}),/*#__PURE__*/_jsx(\"td\",{children:emailUtente}),/*#__PURE__*/_jsx(\"td\",{children:t.categoria}),/*#__PURE__*/_jsx(\"td\",{children:t.localita}),/*#__PURE__*/_jsx(\"td\",{children:t.importo.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:new Date(t.data).toLocaleString()})]},t.id);})})]})]});};export default AdminPagamenti;","map":{"version":3,"names":["React","useEffect","useState","API_BASE","jsx","_jsx","jsxs","_jsxs","AdminPagamenti","transazioni","setTransazioni","errore","setErrore","fetchTransazioni","res","fetch","headers","Authorization","localStorage","getItem","ok","Error","data","json","err","message","style","padding","children","color","length","border","cellPadding","width","marginTop","map","t","emailUtente","impresa_email","professionista_email","id","richiesta_id","categoria","localita","importo","toFixed","Date","toLocaleString"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/admin/AdminPagamenti.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { API_BASE } from '../config/config';\n\nconst AdminPagamenti = () => {\n  const [transazioni, setTransazioni] = useState([]);\n  const [errore, setErrore] = useState('');\n\n  useEffect(() => {\n    const fetchTransazioni = async () => {\n      try {\n        const res = await fetch(`${API_BASE}/api/admin/transazioni`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        if (!res.ok) throw new Error('Accesso negato o errore server');\n        const data = await res.json();\n        setTransazioni(data);\n      } catch (err) {\n        setErrore(err.message);\n      }\n    };\n\n    fetchTransazioni();\n  }, []);\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <h2>ðŸ“Š Transazioni recenti</h2>\n      {errore && <p style={{ color: 'red' }}>{errore}</p>}\n\n      {transazioni.length === 0 && !errore && <p>Nessuna transazione trovata.</p>}\n\n      <table border=\"1\" cellPadding=\"8\" style={{ width: '100%', marginTop: '1rem' }}>\n        <thead>\n          <tr>\n            <th>ID</th>\n            <th>Richiesta</th>\n            <th>Email utente</th>\n            <th>Categoria</th>\n            <th>LocalitÃ </th>\n            <th>Importo (â‚¬)</th>\n            <th>Data</th>\n          </tr>\n        </thead>\n        <tbody>\n          {transazioni.map((t) => {\n            const emailUtente = t.impresa_email || t.professionista_email;\n\n            return (\n              <tr key={t.id}>\n                <td>{t.id}</td>\n                <td>{t.richiesta_id}</td>\n                <td>{emailUtente}</td>\n                <td>{t.categoria}</td>\n                <td>{t.localita}</td>\n                <td>{t.importo.toFixed(2)}</td>\n                <td>{new Date(t.data).toLocaleString()}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport default AdminPagamenti;\n\n\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}