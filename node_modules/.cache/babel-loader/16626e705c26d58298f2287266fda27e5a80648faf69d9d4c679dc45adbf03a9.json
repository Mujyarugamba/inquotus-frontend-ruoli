{"ast":null,"code":"import{useEffect,useState}from'react';import{API_BASE}from'../config/config';const useRichiesteLavoroInQuota=(token,sblocchiEffettuati)=>{const[richieste,setRichieste]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchRichieste=async()=>{try{const res=await fetch(`${API_BASE}/api/richieste/pubbliche`);const data=await res.json();const richiesteTaggate=data.map(r=>({...r,sbloccata:sblocchiEffettuati.includes(r.id)?'si':'no'}));setRichieste(richiesteTaggate);}catch(err){console.error('Errore nel fetch delle richieste:',err);}finally{setLoading(false);}};if(token)fetchRichieste();},[token,sblocchiEffettuati]);return{richieste,loading};};export default useRichiesteLavoroInQuota;","map":{"version":3,"names":["useEffect","useState","API_BASE","useRichiesteLavoroInQuota","token","sblocchiEffettuati","richieste","setRichieste","loading","setLoading","fetchRichieste","res","fetch","data","json","richiesteTaggate","map","r","sbloccata","includes","id","err","console","error"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/hooks/useRichiesteLavoroInQuota.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { API_BASE } from '../config/config';\n\nconst useRichiesteLavoroInQuota = (token, sblocchiEffettuati) => {\n  const [richieste, setRichieste] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchRichieste = async () => {\n      try {\n        const res = await fetch(`${API_BASE}/api/richieste/pubbliche`);\n        const data = await res.json();\n\n        const richiesteTaggate = data.map(r => ({\n          ...r,\n          sbloccata: sblocchiEffettuati.includes(r.id) ? 'si' : 'no'\n        }));\n\n        setRichieste(richiesteTaggate);\n      } catch (err) {\n        console.error('Errore nel fetch delle richieste:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (token) fetchRichieste();\n  }, [token, sblocchiEffettuati]);\n\n  return { richieste, loading };\n};\n\nexport default useRichiesteLavoroInQuota;\n\n\n\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,QAAQ,KAAQ,kBAAkB,CAE3C,KAAM,CAAAC,yBAAyB,CAAGA,CAACC,KAAK,CAAEC,kBAAkB,GAAK,CAC/D,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGN,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGV,QAAQ,0BAA0B,CAAC,CAC9D,KAAM,CAAAW,IAAI,CAAG,KAAM,CAAAF,GAAG,CAACG,IAAI,CAAC,CAAC,CAE7B,KAAM,CAAAC,gBAAgB,CAAGF,IAAI,CAACG,GAAG,CAACC,CAAC,GAAK,CACtC,GAAGA,CAAC,CACJC,SAAS,CAAEb,kBAAkB,CAACc,QAAQ,CAACF,CAAC,CAACG,EAAE,CAAC,CAAG,IAAI,CAAG,IACxD,CAAC,CAAC,CAAC,CAEHb,YAAY,CAACQ,gBAAgB,CAAC,CAChC,CAAE,MAAOM,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,mCAAmC,CAAEF,GAAG,CAAC,CACzD,CAAC,OAAS,CACRZ,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAIL,KAAK,CAAEM,cAAc,CAAC,CAAC,CAC7B,CAAC,CAAE,CAACN,KAAK,CAAEC,kBAAkB,CAAC,CAAC,CAE/B,MAAO,CAAEC,SAAS,CAAEE,OAAQ,CAAC,CAC/B,CAAC,CAED,cAAe,CAAAL,yBAAyB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}