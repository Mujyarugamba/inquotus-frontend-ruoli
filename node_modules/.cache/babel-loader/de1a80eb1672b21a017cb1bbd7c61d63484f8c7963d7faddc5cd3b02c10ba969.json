{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({nome:'',email:'',password:'',ruolo:'committente'});const[showPassword,setShowPassword]=useState(false);const[message,setMessage]=useState('');const navigate=useNavigate();const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const validatePassword=password=>{const regex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_]).{6,}$/;return regex.test(password);};const handleSubmit=async e=>{e.preventDefault();if(!validatePassword(formData.password)){return setMessage(\"La password deve contenere almeno 6 caratteri, una maiuscola, una minuscola, un numero e un simbolo.\");}try{const res=await fetch('https://inquotus-backend-auth.onrender.com/api/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)});const data=await res.json();if(res.ok){setMessage('Registrazione completata!');navigate('/login');}else{setMessage(data.error||'Errore nella registrazione');}}catch(error){setMessage('Errore nel collegamento al backend');}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'400px',margin:'2rem auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrazione\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{name:\"nome\",placeholder:\"Nome\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"email\",placeholder:\"Email\",type:\"email\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{name:\"password\",placeholder:\"Password\",type:showPassword?\"text\":\"password\",onChange:handleChange,required:true,style:{paddingRight:'2.5rem'}}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowPassword(!showPassword),style:{position:'absolute',right:'10px',top:'50%',transform:'translateY(-50%)',cursor:'pointer'},children:showPassword?'üôà':'üëÅÔ∏è'})]}),/*#__PURE__*/_jsx(\"small\",{children:\"Almeno 6 caratteri, una maiuscola, una minuscola, un numero e un simbolo.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"ruolo\",onChange:handleChange,value:formData.ruolo,children:[/*#__PURE__*/_jsx(\"option\",{value:\"committente\",children:\"Committente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"esecutore\",children:\"Impresa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tecnico\",children:\"Professionista\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrati\"})]}),/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","nome","email","password","ruolo","showPassword","setShowPassword","message","setMessage","navigate","handleChange","e","target","name","value","validatePassword","regex","test","handleSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","error","style","maxWidth","margin","children","onSubmit","placeholder","onChange","required","type","position","paddingRight","onClick","right","top","transform","cursor"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/pages/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    nome: '',\n    email: '',\n    password: '',\n    ruolo: 'committente'\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n\n  const handleChange = e => {\n    setFormData({ ...formData, [e.target.name]: e.target.value });\n  };\n\n  const validatePassword = (password) => {\n    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_]).{6,}$/;\n    return regex.test(password);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validatePassword(formData.password)) {\n      return setMessage(\"La password deve contenere almeno 6 caratteri, una maiuscola, una minuscola, un numero e un simbolo.\");\n    }\n\n    try {\n      const res = await fetch('https://inquotus-backend-auth.onrender.com/api/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMessage('Registrazione completata!');\n        navigate('/login');\n      } else {\n        setMessage(data.error || 'Errore nella registrazione');\n      }\n    } catch (error) {\n      setMessage('Errore nel collegamento al backend');\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: '400px', margin: '2rem auto' }}>\n      <h2>Registrazione</h2>\n      <form onSubmit={handleSubmit}>\n        <input name=\"nome\" placeholder=\"Nome\" onChange={handleChange} required /><br /><br />\n        <input name=\"email\" placeholder=\"Email\" type=\"email\" onChange={handleChange} required /><br /><br />\n        \n        <div style={{ position: 'relative' }}>\n          <input\n            name=\"password\"\n            placeholder=\"Password\"\n            type={showPassword ? \"text\" : \"password\"}\n            onChange={handleChange}\n            required\n            style={{ paddingRight: '2.5rem' }}\n          />\n          <span\n            onClick={() => setShowPassword(!showPassword)}\n            style={{\n              position: 'absolute',\n              right: '10px',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              cursor: 'pointer'\n            }}\n          >\n            {showPassword ? 'üôà' : 'üëÅÔ∏è'}\n          </span>\n        </div>\n        <small>\n          Almeno 6 caratteri, una maiuscola, una minuscola, un numero e un simbolo.\n        </small><br /><br />\n\n        <select name=\"ruolo\" onChange={handleChange} value={formData.ruolo}>\n          <option value=\"committente\">Committente</option>\n          <option value=\"esecutore\">Impresa</option>\n          <option value=\"tecnico\">Professionista</option>\n        </select><br /><br />\n\n        <button type=\"submit\">Registrati</button>\n      </form>\n      <p>{message}</p>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}