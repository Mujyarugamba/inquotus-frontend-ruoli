{"ast":null,"code":"import React,{useEffect,useContext,useState}from'react';import{useNavigate}from'react-router-dom';import RichiesteMie from'../richieste/RichiesteMie';import{AuthContext}from'../context/AuthContext';import useRealtimeNotifiche from'../hooks/useRealtimeNotifiche';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Committente=()=>{const navigate=useNavigate();const{utente,logout}=useContext(AuthContext);const[showLogoutModal,setShowLogoutModal]=useState(false);useEffect(()=>{if(!utente)return;if(utente.ruolo!=='committente')navigate('/login');},[utente,navigate]);useRealtimeNotifiche(utente===null||utente===void 0?void 0:utente.email);return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDC77 AreaLavoro \\u2013 Committente\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'1rem'},children:[\"Qui puoi \",/*#__PURE__*/_jsx(\"strong\",{children:\"gestire e monitorare le tue richieste\"}),\" di lavoro in quota. Puoi anche crearne di nuove.\"]}),(utente===null||utente===void 0?void 0:utente.ruolo)==='committente'&&/*#__PURE__*/_jsx(\"div\",{style:{margin:'1.5rem 0'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/nuova-richiesta'),style:{padding:'0.5rem 1rem',backgroundColor:'#007bff',color:'white',borderRadius:'5px',border:'none',cursor:'pointer'},children:\"\\u2795 Nuova richiesta\"})}),/*#__PURE__*/_jsx(\"div\",{children:(utente===null||utente===void 0?void 0:utente.ruolo)==='committente'?/*#__PURE__*/_jsx(RichiesteMie,{}):/*#__PURE__*/_jsx(\"p\",{children:\"Caricamento in corso...\"})}),showLogoutModal&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.6)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:999},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',padding:'2rem',borderRadius:'8px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Sei sicuro di voler uscire?\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowLogoutModal(false);logout();navigate('/login');},style:{marginRight:'1rem'},children:\"S\\xEC, esci\"})]})})]});};export default Committente;","map":{"version":3,"names":["React","useEffect","useContext","useState","useNavigate","RichiesteMie","AuthContext","useRealtimeNotifiche","jsx","_jsx","jsxs","_jsxs","Committente","navigate","utente","logout","showLogoutModal","setShowLogoutModal","ruolo","email","style","padding","children","marginTop","margin","onClick","backgroundColor","color","borderRadius","border","cursor","position","top","left","width","height","background","display","justifyContent","alignItems","zIndex","textAlign","marginRight"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/ruoli/Committente.jsx"],"sourcesContent":["import React, { useEffect, useContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport RichiesteMie from '../richieste/RichiesteMie';\nimport { AuthContext } from '../context/AuthContext';\nimport useRealtimeNotifiche from '../hooks/useRealtimeNotifiche';\n\nconst Committente = () => {\n  const navigate = useNavigate();\n  const { utente, logout } = useContext(AuthContext);\n  const [showLogoutModal, setShowLogoutModal] = useState(false);\n\n  useEffect(() => {\n    if (!utente) return;\n    if (utente.ruolo !== 'committente') navigate('/login');\n  }, [utente, navigate]);\n\n  useRealtimeNotifiche(utente?.email);\n\n  return (\n    <div style={{ padding: '1rem' }}>\n      <h2>ðŸ‘· AreaLavoro â€“ Committente</h2>\n\n      <p style={{ marginTop: '1rem' }}>\n        Qui puoi <strong>gestire e monitorare le tue richieste</strong> di lavoro in quota. Puoi anche crearne di nuove.\n      </p>\n\n      {utente?.ruolo === 'committente' && (\n        <div style={{ margin: '1.5rem 0' }}>\n          <button\n            onClick={() => navigate('/nuova-richiesta')}\n            style={{\n              padding: '0.5rem 1rem',\n              backgroundColor: '#007bff',\n              color: 'white',\n              borderRadius: '5px',\n              border: 'none',\n              cursor: 'pointer'\n            }}\n          >\n            âž• Nuova richiesta\n          </button>\n        </div>\n      )}\n\n      <div>\n        {utente?.ruolo === 'committente' ? <RichiesteMie /> : <p>Caricamento in corso...</p>}\n      </div>\n\n      {showLogoutModal && (\n        <div style={{\n          position: 'fixed', top: 0, left: 0, width: '100%', height: '100%',\n          background: 'rgba(0,0,0,0.6)', display: 'flex', justifyContent: 'center', alignItems: 'center',\n          zIndex: 999\n        }}>\n          <div style={{\n            background: '#fff', padding: '2rem', borderRadius: '8px', textAlign: 'center'\n          }}>\n            <p>Sei sicuro di voler uscire?</p>\n            <button\n              onClick={() => {\n                setShowLogoutModal(false);\n                logout();\n                navigate('/login');\n              }}\n              style={{ marginRight: '1rem' }}\n            >\n              SÃ¬, esci\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Committente;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}