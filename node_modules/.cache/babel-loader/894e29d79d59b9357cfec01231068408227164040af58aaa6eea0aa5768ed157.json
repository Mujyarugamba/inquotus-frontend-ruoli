{"ast":null,"code":"import React,{useState}from'react';import{useParams,useNavigate}from'react-router-dom';import{API_BASE}from'../config/config';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResetPassword=()=>{const{token}=useParams();const[password,setPassword]=useState('');const[msg,setMsg]=useState('');const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setMsg('');try{const res=await fetch(`${API_BASE}/api/password-reset/${token}`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password})});const data=await res.json();if(res.ok){setMsg('✅ Password aggiornata!');setTimeout(()=>navigate('/login'),2000);}else{setMsg(data.error);}}catch(err){setMsg('Errore di connessione al server');}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'400px',margin:'2rem auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Imposta nuova password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Nuova password\",value:password,onChange:e=>setPassword(e.target.value),required:true,style:{width:'100%',marginBottom:'1rem'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Aggiorna password\"})]}),msg&&/*#__PURE__*/_jsx(\"p\",{style:{marginTop:'1rem'},children:msg})]});};export default ResetPassword;","map":{"version":3,"names":["React","useState","useParams","useNavigate","API_BASE","jsx","_jsx","jsxs","_jsxs","ResetPassword","token","password","setPassword","msg","setMsg","navigate","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","setTimeout","error","err","style","maxWidth","margin","children","onSubmit","type","placeholder","value","onChange","target","required","width","marginBottom","marginTop"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/pages/ResetPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { API_BASE } from '../config/config';\n\nconst ResetPassword = () => {\n  const { token } = useParams();\n  const [password, setPassword] = useState('');\n  const [msg, setMsg] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setMsg('');\n    try {\n      const res = await fetch(`${API_BASE}/api/password-reset/${token}`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ password })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setMsg('✅ Password aggiornata!');\n        setTimeout(() => navigate('/login'), 2000);\n      } else {\n        setMsg(data.error);\n      }\n    } catch (err) {\n      setMsg('Errore di connessione al server');\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: '400px', margin: '2rem auto' }}>\n      <h2>Imposta nuova password</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"password\"\n          placeholder=\"Nuova password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n          style={{ width: '100%', marginBottom: '1rem' }}\n        />\n        <button type=\"submit\">Aggiorna password</button>\n      </form>\n      {msg && <p style={{ marginTop: '1rem' }}>{msg}</p>}\n    </div>\n  );\n};\n\nexport default ResetPassword;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAEC,KAAM,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC7B,KAAM,CAACS,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACY,GAAG,CAAEC,MAAM,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAClC,KAAM,CAAAc,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,YAAY,CAAG,KAAO,CAAAC,CAAC,EAAK,CAChCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBJ,MAAM,CAAC,EAAE,CAAC,CACV,GAAI,CACF,KAAM,CAAAK,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGhB,QAAQ,uBAAuBM,KAAK,EAAE,CAAE,CACjEW,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,QAAS,CAAC,CACnC,CAAC,CAAC,CACF,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAP,GAAG,CAACQ,IAAI,CAAC,CAAC,CAC7B,GAAIR,GAAG,CAACS,EAAE,CAAE,CACVd,MAAM,CAAC,wBAAwB,CAAC,CAChCe,UAAU,CAAC,IAAMd,QAAQ,CAAC,QAAQ,CAAC,CAAE,IAAI,CAAC,CAC5C,CAAC,IAAM,CACLD,MAAM,CAACY,IAAI,CAACI,KAAK,CAAC,CACpB,CACF,CAAE,MAAOC,GAAG,CAAE,CACZjB,MAAM,CAAC,iCAAiC,CAAC,CAC3C,CACF,CAAC,CAED,mBACEN,KAAA,QAAKwB,KAAK,CAAE,CAAEC,QAAQ,CAAE,OAAO,CAAEC,MAAM,CAAE,WAAY,CAAE,CAAAC,QAAA,eACrD7B,IAAA,OAAA6B,QAAA,CAAI,wBAAsB,CAAI,CAAC,cAC/B3B,KAAA,SAAM4B,QAAQ,CAAEpB,YAAa,CAAAmB,QAAA,eAC3B7B,IAAA,UACE+B,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,gBAAgB,CAC5BC,KAAK,CAAE5B,QAAS,CAChB6B,QAAQ,CAAGvB,CAAC,EAAKL,WAAW,CAACK,CAAC,CAACwB,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACRV,KAAK,CAAE,CAAEW,KAAK,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAO,CAAE,CAChD,CAAC,cACFtC,IAAA,WAAQ+B,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,mBAAiB,CAAQ,CAAC,EAC5C,CAAC,CACNtB,GAAG,eAAIP,IAAA,MAAG0B,KAAK,CAAE,CAAEa,SAAS,CAAE,MAAO,CAAE,CAAAV,QAAA,CAAEtB,GAAG,CAAI,CAAC,EAC/C,CAAC,CAEV,CAAC,CAED,cAAe,CAAAJ,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}