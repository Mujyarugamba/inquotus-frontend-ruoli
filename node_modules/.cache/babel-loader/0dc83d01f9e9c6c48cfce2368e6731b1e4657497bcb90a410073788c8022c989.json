{"ast":null,"code":"import React from'react';import{Navigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const PublicOnlyRoute=_ref=>{let{children}=_ref;const token=localStorage.getItem('token');if(token){try{const payload=JSON.parse(atob(token.split('.')[1]));switch(payload.ruolo){case'committente':return/*#__PURE__*/_jsx(Navigate,{to:\"/home\"});case'impresa':return/*#__PURE__*/_jsx(Navigate,{to:\"/impresa\"});case'professionista':return/*#__PURE__*/_jsx(Navigate,{to:\"/professionista\"});default:return/*#__PURE__*/_jsx(Navigate,{to:\"/\"});}}catch(err){console.error(\"Token non valido:\",err);localStorage.removeItem('token');}}return children;};export default PublicOnlyRoute;","map":{"version":3,"names":["React","Navigate","jsx","_jsx","PublicOnlyRoute","_ref","children","token","localStorage","getItem","payload","JSON","parse","atob","split","ruolo","to","err","console","error","removeItem"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/routes/PublicOnlyRoute.jsx"],"sourcesContent":["import React from 'react';\nimport { Navigate } from 'react-router-dom';\n\nconst PublicOnlyRoute = ({ children }) => {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    try {\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      switch (payload.ruolo) {\n        case 'committente':\n          return <Navigate to=\"/home\" />;\n        case 'impresa':\n          return <Navigate to=\"/impresa\" />;\n        case 'professionista':\n          return <Navigate to=\"/professionista\" />;\n        default:\n          return <Navigate to=\"/\" />;\n      }\n    } catch (err) {\n      console.error(\"Token non valido:\", err);\n      localStorage.removeItem('token');\n    }\n  }\n\n  return children;\n};\n\nexport default PublicOnlyRoute;\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5C,KAAM,CAAAC,eAAe,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CACnC,KAAM,CAAAE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAE3C,GAAIF,KAAK,CAAE,CACT,GAAI,CACF,KAAM,CAAAG,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACrD,OAAQJ,OAAO,CAACK,KAAK,EACnB,IAAK,aAAa,CAChB,mBAAOZ,IAAA,CAACF,QAAQ,EAACe,EAAE,CAAC,OAAO,CAAE,CAAC,CAChC,IAAK,SAAS,CACZ,mBAAOb,IAAA,CAACF,QAAQ,EAACe,EAAE,CAAC,UAAU,CAAE,CAAC,CACnC,IAAK,gBAAgB,CACnB,mBAAOb,IAAA,CAACF,QAAQ,EAACe,EAAE,CAAC,iBAAiB,CAAE,CAAC,CAC1C,QACE,mBAAOb,IAAA,CAACF,QAAQ,EAACe,EAAE,CAAC,GAAG,CAAE,CAAC,CAC9B,CACF,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,mBAAmB,CAAEF,GAAG,CAAC,CACvCT,YAAY,CAACY,UAAU,CAAC,OAAO,CAAC,CAClC,CACF,CAEA,MAAO,CAAAd,QAAQ,CACjB,CAAC,CAED,cAAe,CAAAF,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}