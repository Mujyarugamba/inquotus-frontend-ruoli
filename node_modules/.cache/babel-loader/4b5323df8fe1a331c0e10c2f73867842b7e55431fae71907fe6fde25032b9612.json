{"ast":null,"code":"import React,{useState}from'react';import{API_BASE}from'../config/config';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[form,setForm]=useState({nome:'',email:'',password:'',ruolo:'committente'});const[message,setMessage]=useState('');const[showPassword,setShowPassword]=useState(false);const navigate=useNavigate();const handleChange=e=>{setForm({...form,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();// Validazione password\nconst regex=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@#$!%*?&]).{6,}$/;if(!regex.test(form.password)){setMessage('‚ö†Ô∏è La password deve contenere almeno 6 caratteri, una maiuscola, una minuscola, un numero e un simbolo');return;}try{const res=await fetch(`${API_BASE}/api/register`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(form)});const data=await res.json();if(res.ok){setMessage('‚úÖ Registrazione completata!');setTimeout(()=>navigate('/login'),2000);}else{setMessage(data.error||'Errore durante la registrazione');}}catch(err){console.error('Errore connessione:',err);setMessage('Errore di connessione al server');}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'400px',margin:'2rem auto'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrati\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nome\",placeholder:\"Nome completo\",value:form.nome,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Email\",value:form.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"input\",{type:showPassword?'text':'password',name:\"password\",placeholder:\"Password\",value:form.password,onChange:handleChange,required:true,style:{paddingRight:'2.5rem'}}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setShowPassword(!showPassword),style:{position:'absolute',right:'10px',top:'50%',transform:'translateY(-50%)',cursor:'pointer'},children:showPassword?'üôà':'üëÅÔ∏è'})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"ruolo\",value:form.ruolo,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"committente\",children:\"Committente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"impresa\",children:\"Impresa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"professionista\",children:\"Professionista\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrati\"})]}),/*#__PURE__*/_jsx(\"p\",{children:message})]});};export default Register;","map":{"version":3,"names":["React","useState","API_BASE","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","form","setForm","nome","email","password","ruolo","message","setMessage","showPassword","setShowPassword","navigate","handleChange","e","target","name","value","handleSubmit","preventDefault","regex","test","res","fetch","method","headers","body","JSON","stringify","data","json","ok","setTimeout","error","err","console","style","maxWidth","margin","children","onSubmit","type","placeholder","onChange","required","position","paddingRight","onClick","right","top","transform","cursor"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/auth/Register.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { API_BASE } from '../config/config';\nimport { useNavigate } from 'react-router-dom';\n\nconst Register = () => {\n  const [form, setForm] = useState({\n    nome: '',\n    email: '',\n    password: '',\n    ruolo: 'committente'\n  });\n  const [message, setMessage] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validazione password\n    const regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@#$!%*?&]).{6,}$/;\n    if (!regex.test(form.password)) {\n      setMessage('‚ö†Ô∏è La password deve contenere almeno 6 caratteri, una maiuscola, una minuscola, un numero e un simbolo');\n      return;\n    }\n\n    try {\n      const res = await fetch(`${API_BASE}/api/register`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(form)\n      });\n\n      const data = await res.json();\n      if (res.ok) {\n        setMessage('‚úÖ Registrazione completata!');\n        setTimeout(() => navigate('/login'), 2000);\n      } else {\n        setMessage(data.error || 'Errore durante la registrazione');\n      }\n    } catch (err) {\n      console.error('Errore connessione:', err);\n      setMessage('Errore di connessione al server');\n    }\n  };\n\n  return (\n    <div style={{ maxWidth: '400px', margin: '2rem auto' }}>\n      <h2>Registrati</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"nome\"\n          placeholder=\"Nome completo\"\n          value={form.nome}\n          onChange={handleChange}\n          required\n        /><br /><br />\n\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Email\"\n          value={form.email}\n          onChange={handleChange}\n          required\n        /><br /><br />\n\n        <div style={{ position: 'relative' }}>\n          <input\n            type={showPassword ? 'text' : 'password'}\n            name=\"password\"\n            placeholder=\"Password\"\n            value={form.password}\n            onChange={handleChange}\n            required\n            style={{ paddingRight: '2.5rem' }}\n          />\n          <span\n            onClick={() => setShowPassword(!showPassword)}\n            style={{\n              position: 'absolute',\n              right: '10px',\n              top: '50%',\n              transform: 'translateY(-50%)',\n              cursor: 'pointer'\n            }}\n          >\n            {showPassword ? 'üôà' : 'üëÅÔ∏è'}\n          </span>\n        </div><br />\n\n        <select name=\"ruolo\" value={form.ruolo} onChange={handleChange} required>\n          <option value=\"committente\">Committente</option>\n          <option value=\"impresa\">Impresa</option>\n          <option value=\"professionista\">Professionista</option>\n        </select><br /><br />\n\n        <button type=\"submit\">Registrati</button>\n      </form>\n      <p>{message}</p>\n    </div>\n  );\n};\n\nexport default Register;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}