{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LocalitaForm=_ref=>{let{onChange}=_ref;const[comuni,setComuni]=useState([]);const[regioni,setRegioni]=useState([]);const[comuniFiltrati,setComuniFiltrati]=useState([]);useEffect(()=>{fetch('/comuni.json').then(res=>res.json()).then(data=>{setComuni(data);const regioniUniche=[...new Set(data.map(c=>c.regione))];setRegioni(regioniUniche.sort());}).catch(err=>console.error('Errore comuni:',err));},[]);const handleRegione=e=>{onChange(e);const regione=e.target.value;const filtrati=comuni.filter(c=>c.regione===regione);setComuniFiltrati(filtrati);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Regione:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"regione\",onChange:handleRegione,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleziona una regione --\"}),regioni.map((r,i)=>/*#__PURE__*/_jsx(\"option\",{value:r,children:r},i))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Comune:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{name:\"comune\",onChange:onChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Seleziona un comune --\"}),comuniFiltrati.map((c,i)=>/*#__PURE__*/_jsx(\"option\",{value:c.nome,children:c.nome},i))]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Via:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"via\",onChange:onChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Civico:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"civico\",onChange:onChange}),/*#__PURE__*/_jsx(\"br\",{})]});};export default LocalitaForm;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","LocalitaForm","_ref","onChange","comuni","setComuni","regioni","setRegioni","comuniFiltrati","setComuniFiltrati","fetch","then","res","json","data","regioniUniche","Set","map","c","regione","sort","catch","err","console","error","handleRegione","e","target","value","filtrati","filter","children","name","required","r","i","nome"],"sources":["C:/Users/151702/Desktop/Inquotus/Inquotus-frontend-ruoli/src/LocalitaForm.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst LocalitaForm = ({ onChange }) => {\n  const [comuni, setComuni] = useState([]);\n  const [regioni, setRegioni] = useState([]);\n  const [comuniFiltrati, setComuniFiltrati] = useState([]);\n\n  useEffect(() => {\n    fetch('/comuni.json')\n      .then(res => res.json())\n      .then(data => {\n        setComuni(data);\n        const regioniUniche = [...new Set(data.map(c => c.regione))];\n        setRegioni(regioniUniche.sort());\n      })\n      .catch(err => console.error('Errore comuni:', err));\n  }, []);\n\n  const handleRegione = e => {\n    onChange(e);\n    const regione = e.target.value;\n    const filtrati = comuni.filter(c => c.regione === regione);\n    setComuniFiltrati(filtrati);\n  };\n\n  return (\n    <div>\n      <label>Regione:</label><br />\n      <select name=\"regione\" onChange={handleRegione} required>\n        <option value=\"\">-- Seleziona una regione --</option>\n        {regioni.map((r, i) => <option key={i} value={r}>{r}</option>)}\n      </select><br /><br />\n\n      <label>Comune:</label><br />\n      <select name=\"comune\" onChange={onChange} required>\n        <option value=\"\">-- Seleziona un comune --</option>\n        {comuniFiltrati.map((c, i) => (\n          <option key={i} value={c.nome}>{c.nome}</option>\n        ))}\n      </select><br /><br />\n\n      <label>Via:</label><br />\n      <input name=\"via\" onChange={onChange} /><br /><br />\n\n      <label>Civico:</label><br />\n      <input name=\"civico\" onChange={onChange} /><br />\n    </div>\n  );\n};\n\nexport default LocalitaForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}